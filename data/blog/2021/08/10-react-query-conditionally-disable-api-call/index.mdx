---
title: Enable React Query API Call Based on Another Variable
date: 2021-08-10
slug: react-query-conditionally-enable-query-api-call
description: The options object of React Query accepts an enabled property. If enabled propery is false, the query will not work.
tags: ["reactQuery"]
---

We have a Query in React Query to make an API call. The call should not happen if the value of `makeAPICall` is false. In this case, we can make use of `enabled` key in Query configuration.

```javascript
const queryUsers = useQuery(
  "gitUsers",
  () => {
    return fetch("https://api.github.com/search/users?q=joby&per_page=10").then(
      (res) => res.json()
    );
  },
  // highlight-start
  {
    enabled: makeAPICall,
  }
  // highlight-end
);
```

`enabled` configuration helps us to prevent unnecessary API calls. Example, if a search textbox is empty, we can prevent making a search API call with empty query string.
